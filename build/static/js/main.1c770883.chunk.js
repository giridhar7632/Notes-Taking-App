(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{156:function(e,t,n){"use strict";n.r(t);var a=n(183),c=n(0),r=n(38),s=n.n(r),i=n(13),o=n.n(i),l=n(22),j=n(4),d=n(187),u=n(73),b=n(172),h=n(32),O=n(113),p=n(169),x=n(48),m=n(3),f=function(e){var t=Object(O.c)().toggleColorMode,n=Object(O.d)("dark","light"),a=Object(O.d)(x.b,x.c);return Object(m.jsx)(p.a,Object(h.a)({size:"md",fontSize:"lg","aria-label":"Switch to ".concat(n," mode"),variant:"solid",color:"current",marginLeft:"2",onClick:t,icon:Object(m.jsx)(a,{})},e))},g=n(6),v=n(110),w=n(63),C=n(174),k=n(175),S=n(176),y=n(177),z=n(189),R=n(173),I=n(178),A=n(179),D=n(186),L=n(23),E=n.n(L),N=function(e){var t=e.setIsLogin,n=Object(c.useState)({name:"",email:"",password:""}),a=Object(j.a)(n,2),r=a[0],s=a[1],i=Object(c.useState)(!1),d=Object(j.a)(i,2),u=d[0],O=d[1],p=Object(c.useState)(!0),x=Object(j.a)(p,2),f=x[0],L=x[1],N=Object(D.a)(),F=Object(c.useRef)(),q=function(e,t){F.current=N({title:"".concat(e),status:"".concat(t),isClosable:!0,duration:3e3})},T=function(e){var t=e.target,n=t.name,a=t.value;s(Object(h.a)(Object(h.a)({},r),{},Object(g.a)({},n,a)))},W=function(){return O(!u)},P=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,E.a.post("/users/register",{username:r.name,email:r.email,password:r.password});case 4:n=e.sent,s({name:"",email:"",password:""}),q(n.data.msg,n.data.type),L(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),e.t0.response.data.msg&&q(e.t0.response.data.msg,e.t0.response.data.type);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(l.a)(o.a.mark((function e(n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,E.a.post("/users/login",{email:r.email,password:r.password});case 4:a=e.sent,s({name:"",email:"",password:""}),q(a.data.msg,"success"),localStorage.setItem("tokenStore",a.data.token),t(!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),e.t0.response.data.msg&&q(e.t0.response.data.msg,e.t0.response.data.type);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)(z.b,{direction:"column",children:f?Object(m.jsxs)(b.a,{className:"login",p:"6",flexDirection:"column",justifyContent:"center",children:[Object(m.jsxs)("form",{onSubmit:_,children:[Object(m.jsx)(R.a,{as:"h2",size:"lg",textAlign:"center",mb:6,children:"Login"}),Object(m.jsxs)(w.a,{id:"email",isRequired:!0,children:[Object(m.jsx)(C.a,{children:"Email"}),Object(m.jsx)(k.a,{type:"email",name:"email",value:r.email,onChange:T,placeholder:"Email"})]}),Object(m.jsxs)(w.a,{id:"password",mt:"2",isRequired:!0,children:[Object(m.jsx)(C.a,{children:"Password"}),Object(m.jsxs)(S.a,{size:"md",children:[Object(m.jsx)(k.a,{pr:"4.5rem",type:u?"text":"password",name:"password",value:r.password,onChange:T,placeholder:"Enter password"}),Object(m.jsx)(y.a,{width:"4.5rem",children:Object(m.jsx)(v.a,{h:"1.75rem",size:"sm",onClick:W,children:u?"Hide":"Show"})})]})]}),Object(m.jsx)(v.a,{mt:6,type:"submit",colorScheme:"purple",variant:"solid",children:"Login"})]}),Object(m.jsxs)(I.a,{mt:6,children:["Don't have an account?"," ",Object(m.jsx)(A.a,{color:"purple.500",onClick:function(){return L(!f)},children:"Register now"})]})]}):Object(m.jsxs)(b.a,{className:"register",p:"6",flexDirection:"column",justifyContent:"center",children:[Object(m.jsxs)("form",{onSubmit:P,children:[Object(m.jsx)(R.a,{as:"h2",size:"lg",textAlign:"center",mb:6,children:"Register"}),Object(m.jsxs)(w.a,{id:"username",isRequired:!0,children:[Object(m.jsx)(C.a,{children:"Username"}),Object(m.jsx)(k.a,{value:r.name,name:"name",onChange:T,placeholder:"Username"})]}),Object(m.jsxs)(w.a,{id:"email",mt:"2",isRequired:!0,children:[Object(m.jsx)(C.a,{children:"Email"}),Object(m.jsx)(k.a,{type:"email",name:"email",value:r.email,onChange:T,placeholder:"Email"})]}),Object(m.jsxs)(w.a,{id:"password",mt:"2",isRequired:!0,children:[Object(m.jsx)(C.a,{children:"Password"}),Object(m.jsxs)(S.a,{size:"md",children:[Object(m.jsx)(k.a,{pr:"4.5rem",type:u?"text":"password",value:r.password,name:"password",onChange:T,placeholder:"Enter password"}),Object(m.jsx)(y.a,{width:"4.5rem",children:Object(m.jsx)(v.a,{h:"1.75rem",size:"sm",onClick:W,children:u?"Hide":"Show"})})]})]}),Object(m.jsx)(v.a,{mt:6,type:"submit",colorScheme:"purple",variant:"solid",children:"Register"})]}),Object(m.jsxs)(I.a,{mt:6,children:["Already have an account?"," ",Object(m.jsx)(A.a,{color:"purple.500",onClick:function(){return L(!f)},children:"Sign in"})]})]})})},F=n(181),q=n(182),T=n(109),W=n(190),P=n(185),_=n(180),B=function(e){var t=e.children,n=e.noteId,a=Object(c.useState)({title:"",content:"",date:"",id:""}),r=Object(j.a)(a,2),s=r[0],i=r[1],d=Object(W.a)(),u=d.isOpen,b=d.onOpen,O=d.onClose,p=Object(c.useRef)(),x=Object(D.a)(),f=Object(c.useRef)(),S=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b(),t=localStorage.getItem("tokenStore"),!n){e.next=8;break}return e.next=5,E.a.get("/api/notes/".concat(n),{headers:{Authorization:t}});case 5:a=e.sent,console.log(a.data.date),i({title:a.data.title,content:a.data.content,date:new Date(a.data.date).toLocaleDateString(),id:a.data._id});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(e){var t=e.target,n=t.name,a=t.value;i(Object(h.a)(Object(h.a)({},s),{},Object(g.a)({},n,a)))},z=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,c,r,i,l,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!(n=localStorage.getItem("tokenStore"))){e.next=11;break}return a=s.title,c=s.content,r=s.date,i=s.id,l={title:a,content:c,date:r},e.next=8,E.a.put("/api/notes/".concat(i),l,{headers:{Authorization:n}});case 8:j=e.sent,o=j.data.msg,d=j.data.type,f.current=x({title:"".concat(o),status:"".concat(d),isClosable:!0,duration:3e3}),window.location.href="/";case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),window.location.href="/";case 16:case"end":return e.stop()}var o,d}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(v.a,{onClick:S,children:t}),Object(m.jsxs)(P.a,{initialFocusRef:p,isOpen:u,onClose:O,children:[Object(m.jsx)(P.g,{}),Object(m.jsxs)(P.d,{children:[Object(m.jsx)(P.f,{children:"Edit Note"}),Object(m.jsx)(P.c,{}),Object(m.jsxs)("form",{onSubmit:z,children:[Object(m.jsxs)(P.b,{pb:6,children:[Object(m.jsxs)(w.a,{children:[Object(m.jsx)(C.a,{children:"Title"}),Object(m.jsx)(k.a,{name:"title",value:s.title,onChange:y,ref:p,placeholder:"value"})]}),Object(m.jsxs)(w.a,{mt:4,children:[Object(m.jsx)(C.a,{children:"Content"}),Object(m.jsx)(_.a,{name:"content",value:s.content,onChange:y,placeholder:"Content of the note"})]}),Object(m.jsxs)(w.a,{mt:4,children:[Object(m.jsxs)(C.a,{children:["Date: ",s.date]}),Object(m.jsx)(k.a,{name:"date",value:s.date,onChange:y,type:"date"})]})]}),Object(m.jsxs)(P.e,{children:[Object(m.jsx)(v.a,{onClick:O,type:"submit",colorScheme:"purple",mr:3,children:"Save"}),Object(m.jsx)(v.a,{onClick:O,children:"Cancel"})]})]})]})]})]})},U=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),s=Object(j.a)(r,2),i=s[0],d=s[1],u=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("api/notes",{headers:{Authorization:t}});case 2:n=e.sent,a(n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){var e=localStorage.getItem("tokenStore");d(e),e&&u(e)}),[]);var h=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!i){e.next=5;break}return e.next=4,E.a.delete("api/notes/".concat(t),{headers:{Authorization:i}});case 4:u(i);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),window.location.href="/";case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)(b.a,{w:"100%",flexDirection:"column",mb:8,children:n.length?Object(m.jsx)(F.a,{templateColumns:["repeat(1, 1fr)","repeat(2, 1fr)","repeat(3, 1fr)"],gap:6,m:"0 auto",w:["100%","90%","85%"],children:n.map((function(e){return Object(m.jsxs)(q.a,{w:"100%",p:5,shadow:"md",borderWidth:"1px",flex:"1",borderRadius:"md",children:[Object(m.jsx)(R.a,{size:"md",isTruncated:!0,children:e.title}),Object(m.jsx)(I.a,{my:4,noOfLines:[3,4,5],children:e.content}),Object(m.jsxs)(z.b,{spacing:4,children:[Object(m.jsxs)(z.a,{justifyContent:"space-between",children:[Object(m.jsx)(I.a,{color:"purple.500",children:e.name}),Object(m.jsx)(I.a,{children:Object(T.a)(e.date)})]}),Object(m.jsxs)(z.a,{justifyContent:"space-between",children:[Object(m.jsx)(B,{noteId:e._id,children:"Edit"}),Object(m.jsx)(p.a,{onClick:function(){return h(e._id)},colorScheme:"red",variant:"solid",size:"md",icon:Object(m.jsx)(x.d,{})})]})]})]},e._id)}))}):Object(m.jsx)(b.a,{h:["30vh","50vh"],w:"100%",justifyContent:"center",alignItems:"center",children:Object(m.jsx)(I.a,{fontSize:["2xl","3xl"],opacity:"0.2",children:"No Notes Added"})})})},H=function(e){var t=e.children,n=Object(c.useState)({title:"",content:"",date:""}),a=Object(j.a)(n,2),r=a[0],s=a[1],i=Object(W.a)(),d=i.isOpen,u=i.onOpen,b=i.onClose,O=Object(c.useRef)(),p=Object(D.a)(),x=Object(c.useRef)(),f=function(e){var t=e.target,n=t.name,a=t.value;s(Object(h.a)(Object(h.a)({},r),{},Object(g.a)({},n,a)))},S=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,c,s,i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!(n=localStorage.getItem("tokenStore"))){e.next=11;break}return a=r.title,c=r.content,s=r.date,i={title:a,content:c,date:s},e.next=8,E.a.post("/api/notes",i,{headers:{Authorization:n}});case 8:l=e.sent,o=l.data.msg,j=l.data.type,x.current=p({title:"".concat(o),status:"".concat(j),isClosable:!0,duration:3e3}),window.location.href="/";case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),window.location.href="/";case 16:case"end":return e.stop()}var o,j}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(v.a,{mr:4,variant:"solid",size:"md",onClick:u,children:t}),Object(m.jsxs)(P.a,{initialFocusRef:O,isOpen:d,onClose:b,children:[Object(m.jsx)(P.g,{}),Object(m.jsxs)(P.d,{children:[Object(m.jsx)(P.f,{children:"Create a Note"}),Object(m.jsx)(P.c,{}),Object(m.jsxs)("form",{onSubmit:S,children:[Object(m.jsxs)(P.b,{pb:6,children:[Object(m.jsxs)(w.a,{children:[Object(m.jsx)(C.a,{children:"Title"}),Object(m.jsx)(k.a,{name:"title",ref:O,value:r.title,onChange:f,placeholder:"Untitled"})]}),Object(m.jsxs)(w.a,{mt:4,isRequired:!0,children:[Object(m.jsx)(C.a,{children:"Content"}),Object(m.jsx)(_.a,{name:"content",value:r.content,onChange:f,placeholder:"Content of the note"})]}),Object(m.jsxs)(w.a,{mt:4,children:[Object(m.jsx)(C.a,{children:"Date"}),Object(m.jsx)(k.a,{name:"date",value:r.date,onChange:f,type:"date"})]})]}),Object(m.jsxs)(P.e,{children:[Object(m.jsx)(v.a,{type:"submit",colorScheme:"purple",mr:3,onClick:b,children:"Add Note"}),Object(m.jsx)(v.a,{onClick:b,children:"Cancel"})]})]})]})]})]})},J=function(e){var t=e.setIsLogin;return Object(m.jsxs)(b.a,{justifyContent:"space-between",w:"100%",flexDirection:["column","row"],children:[Object(m.jsxs)(b.a,{justifyContent:"center",alignItems:"center",mb:4,children:[Object(m.jsx)(x.a,{size:"24px"}),Object(m.jsx)(I.a,{ml:4,textAlign:"center",fontWeight:"bold",fontSize:"2xl",children:"Notes App"})]}),Object(m.jsxs)(b.a,{justifyContent:"space-between",children:[Object(m.jsx)(H,{children:"+ Add Note"}),Object(m.jsx)(v.a,{onClick:function(){localStorage.clear(),t(!1)},mr:2,variant:"solid",size:"md",children:"Logout"}),Object(m.jsx)(f,{})]})]})};var M=function(){var e=Object(c.useState)(!1),t=Object(j.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=localStorage.getItem("tokenStore"))){e.next=10;break}return e.next=4,E.a.get("/users/verify",{headers:{Authorization:t}});case 4:if(n=e.sent,a(n.data),!1!==n.data){e.next=8;break}return e.abrupt("return",localStorage.clear());case 8:e.next=11;break;case 10:a(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(m.jsx)(d.a,{theme:u.theme,children:Object(m.jsxs)(b.a,{p:8,h:"100vh",flexDirection:"column",textAlign:"center",children:[n?Object(m.jsx)(J,{setIsLogin:a}):Object(m.jsx)(b.a,{justifyContent:"flex-end",children:Object(m.jsx)(f,{justifySelf:"flex-end"})}),Object(m.jsx)(b.a,{maxW:"100%",justifyContent:"center",mt:8,children:n?Object(m.jsx)(U,{}):Object(m.jsx)(N,{setIsLogin:a})})]})})},$=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,191)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(m.jsxs)(c.StrictMode,{children:[Object(m.jsx)(a.a,{}),Object(m.jsx)(M,{})]}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),$()}},[[156,1,2]]]);
//# sourceMappingURL=main.1c770883.chunk.js.map